"use strict";(self.webpackChunkrancher_docs=self.webpackChunkrancher_docs||[]).push([[62030],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>y});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),l=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=l(r),y=a,m=d["".concat(p,".").concat(y)]||d[y]||u[y]||o;return r?n.createElement(m,i(i({ref:t},c),{},{components:r})):n.createElement(m,i({ref:t},c))}));function y(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},24770:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>y,frontMatter:()=>s,metadata:()=>l,toc:()=>u});r(67294);var n=r(3905);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const s={title:"API Keys"},p=void 0,l={unversionedId:"reference-guides/user-settings/api-keys",id:"reference-guides/user-settings/api-keys",title:"API Keys",description:"API Keys and User Authentication",source:"@site/docs/reference-guides/user-settings/api-keys.md",sourceDirName:"reference-guides/user-settings",slug:"/reference-guides/user-settings/api-keys",permalink:"/reference-guides/user-settings/api-keys",draft:!1,editUrl:"https://github.com/rancher/rancher-docs/edit/main/docs/reference-guides/user-settings/api-keys.md",tags:[],version:"current",lastUpdatedAt:1685572159,formattedLastUpdatedAt:"May 31, 2023",frontMatter:{title:"API Keys"},sidebar:"tutorialSidebar",previous:{title:"User Settings",permalink:"/pages-for-subheaders/user-settings"},next:{title:"Managing Node Templates",permalink:"/reference-guides/user-settings/manage-node-templates"}},c={},u=[{value:"API Keys and User Authentication",id:"api-keys-and-user-authentication",level:2},{value:"Creating an API Key",id:"creating-an-api-key",level:2},{value:"What&#39;s Next?",id:"whats-next",level:2},{value:"Deleting API Keys",id:"deleting-api-keys",level:2}],d={toc:u};function y(e){var{components:t}=e,r=i(e,["components"]);return(0,n.kt)("wrapper",o(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({},d,r),{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"api-keys-and-user-authentication"},"API Keys and User Authentication"),(0,n.kt)("p",null,"If you want to access your Rancher clusters, projects, or other objects using external applications, you can do so using the Rancher API. However, before your application can access the API, you must provide the app with a key used to authenticate with Rancher. You can obtain a key using the Rancher UI."),(0,n.kt)("p",null,"An API key is also required for using Rancher CLI."),(0,n.kt)("p",null,"API Keys are composed of four components:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Endpoint:")," This is the IP address and path that other applications use to send requests to the Rancher API."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Access Key:")," The token's username."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Secret Key:")," The token's password. For applications that prompt you for two different strings for API authentication, you usually enter the two keys together."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Bearer Token:")," The token username and password concatenated together. Use this string for applications that prompt you for one authentication string.")),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"Users may opt to enable ",(0,n.kt)("a",{parentName:"p",href:"/reference-guides/about-the-api/api-tokens"},"token hashing"),".")),(0,n.kt)("h2",{id:"creating-an-api-key"},"Creating an API Key"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Select ",(0,n.kt)("strong",{parentName:"p"},"User Avatar > Account & API Keys")," from upper right corner.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click ",(0,n.kt)("strong",{parentName:"p"},"Create API Key"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Optional:")," Enter a description for the API key and select an expiration period or a scope. We recommend setting an expiration date."),(0,n.kt)("p",{parentName:"li"},"The API key won't be valid after expiration. Shorter expiration periods are more secure."),(0,n.kt)("p",{parentName:"li"},"Expiration period will be bound by ",(0,n.kt)("inlineCode",{parentName:"p"},"v3/settings/auth-token-max-ttl-minutes"),". If it exceeds the max-ttl, API key will be created with max-ttl as the expiration period."),(0,n.kt)("p",{parentName:"li"},"A scope will limit the API key so that it will only work against the Kubernetes API of the specified cluster. If the cluster is configured with an Authorized Cluster Endpoint, you will be able to use a scoped token directly against the cluster's API without proxying through the Rancher server. See ",(0,n.kt)("a",{parentName:"p",href:"/reference-guides/rancher-manager-architecture/communicating-with-downstream-user-clusters#4-authorized-cluster-endpoint"},"Authorized Cluster Endpoints")," for more information.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click ",(0,n.kt)("strong",{parentName:"p"},"Create"),"."),(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Step Result:")," Your API Key is created. Your API ",(0,n.kt)("strong",{parentName:"p"},"Endpoint"),", ",(0,n.kt)("strong",{parentName:"p"},"Access Key"),", ",(0,n.kt)("strong",{parentName:"p"},"Secret Key"),", and ",(0,n.kt)("strong",{parentName:"p"},"Bearer Token")," are displayed."),(0,n.kt)("p",{parentName:"li"},"Use the ",(0,n.kt)("strong",{parentName:"p"},"Bearer Token")," to authenticate with Rancher CLI.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Copy the information displayed to a secure location. This information is only displayed once, so if you lose your key, you'll have to make a new one."))),(0,n.kt)("h2",{id:"whats-next"},"What's Next?"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Enter your API key information into the application that will send requests to the Rancher API."),(0,n.kt)("li",{parentName:"ul"},"Learn more about the Rancher endpoints and parameters by selecting ",(0,n.kt)("strong",{parentName:"li"},"View in API")," for an object in the Rancher UI."),(0,n.kt)("li",{parentName:"ul"},"API keys are used for API calls and ",(0,n.kt)("a",{parentName:"li",href:"/pages-for-subheaders/cli-with-rancher"},"Rancher CLI"),".")),(0,n.kt)("h2",{id:"deleting-api-keys"},"Deleting API Keys"),(0,n.kt)("p",null,"If you need to revoke an API key, delete it. You should delete API keys:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"That may have been compromised."),(0,n.kt)("li",{parentName:"ul"},"That have expired.")),(0,n.kt)("p",null,"To delete an API, select the stale key and click ",(0,n.kt)("strong",{parentName:"p"},"Delete"),"."))}y.isMDXComponent=!0}}]);