"use strict";(self.webpackChunkrancher_docs=self.webpackChunkrancher_docs||[]).push([[51516],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>h});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=r.createContext({}),l=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=l(e.components);return r.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(t),h=o,f=d["".concat(c,".").concat(h)]||d[h]||p[h]||i;return t?r.createElement(f,a(a({ref:n},u),{},{components:t})):r.createElement(f,a({ref:n},u))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=d;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var l=2;l<i;l++)a[l]=t[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},80173:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>p});t(67294);var r=t(3905);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}function a(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}const s={title:"Behavior Differences Between RKE1 and RKE2"},c=void 0,l={unversionedId:"how-to-guides/new-user-guides/launch-kubernetes-with-rancher/rke1-vs-rke2-differences",id:"how-to-guides/new-user-guides/launch-kubernetes-with-rancher/rke1-vs-rke2-differences",title:"Behavior Differences Between RKE1 and RKE2",description:"RKE2, also known as RKE Government, is a Kubernetes distribution that focuses on security and compliance for U.S. Federal Government entities. It is considered the next iteration of the Rancher Kubernetes Engine, now known as RKE1.",source:"@site/docs/how-to-guides/new-user-guides/launch-kubernetes-with-rancher/rke1-vs-rke2-differences.md",sourceDirName:"how-to-guides/new-user-guides/launch-kubernetes-with-rancher",slug:"/how-to-guides/new-user-guides/launch-kubernetes-with-rancher/rke1-vs-rke2-differences",permalink:"/how-to-guides/new-user-guides/launch-kubernetes-with-rancher/rke1-vs-rke2-differences",draft:!1,editUrl:"https://github.com/rancher/rancher-docs/edit/main/docs/how-to-guides/new-user-guides/launch-kubernetes-with-rancher/rke1-vs-rke2-differences.md",tags:[],version:"current",lastUpdatedAt:1684529721,formattedLastUpdatedAt:"May 19, 2023",frontMatter:{title:"Behavior Differences Between RKE1 and RKE2"},sidebar:"tutorialSidebar",previous:{title:"Provisioning Kubernetes Clusters in Nutanix AOS",permalink:"/how-to-guides/new-user-guides/launch-kubernetes-with-rancher/use-new-nodes-in-an-infra-provider/nutanix/provision-kubernetes-clusters-in-aos"},next:{title:"Rancher Agents",permalink:"/how-to-guides/new-user-guides/launch-kubernetes-with-rancher/about-rancher-agents"}},u={},p=[{value:"Control Plane Components",id:"control-plane-components",level:3},{value:"Cluster API",id:"cluster-api",level:3},{value:"Terminology",id:"terminology",level:3}],d={toc:p};function h(e){var{components:n}=e,t=a(e,["components"]);return(0,r.kt)("wrapper",i(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}({},d,t),{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"RKE2, also known as RKE Government, is a Kubernetes distribution that focuses on security and compliance for U.S. Federal Government entities. It is considered the next iteration of the Rancher Kubernetes Engine, now known as RKE1."),(0,r.kt)("p",null,"RKE1 and RKE2 have several slight behavioral differences to note, and this page will highlight some of these at a high level."),(0,r.kt)("h3",{id:"control-plane-components"},"Control Plane Components"),(0,r.kt)("p",null,"RKE1 uses Docker for deploying and managing control plane components, and it also uses Docker as the container runtime for Kubernetes. By contrast, RKE2 launches control plane components as static pods that are managed by the kubelet. RKE2's container runtime is containerd, which allows things such as mirroring a container image registry. RKE1 with Docker does not allow mirroring."),(0,r.kt)("h3",{id:"cluster-api"},"Cluster API"),(0,r.kt)("p",null,"RKE2/K3s provisioning is built on top of the Cluster API (CAPI) upstream framework which often makes RKE2-provisioned clusters behave differently than RKE1-provisioned clusters."),(0,r.kt)("p",null,"When you make changes to your cluster configuration in RKE2, this ",(0,r.kt)("strong",{parentName:"p"},"may")," result in nodes reprovisioning. This is controlled by CAPI controllers and not by Rancher itself. Note that for etcd nodes, the same behavior does not apply."),(0,r.kt)("p",null,"The following are some specific example configuration changes that may cause the described behavior:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"When editing the cluster and enabling ",(0,r.kt)("inlineCode",{parentName:"li"},"drain before delete"),", the existing control plane nodes and worker are deleted and new nodes are created.")),(0,r.kt)("p",null,"Users who are used to RKE1 provisioning should take note of this new RKE2 behavior which may be unexpected."),(0,r.kt)("h3",{id:"terminology"},"Terminology"),(0,r.kt)("p",null,"You will notice that some terms have changed or gone away going from RKE1 to RKE2. For example, in RKE1 provisioning, you use ",(0,r.kt)("strong",{parentName:"p"},"node templates"),"; in RKE2 provisioning, you can configure your cluster node pools when creating or editing the cluster. Another example is that the term ",(0,r.kt)("strong",{parentName:"p"},"node pool")," in RKE1 is now known as ",(0,r.kt)("strong",{parentName:"p"},"machine pool")," in RKE2."))}h.isMDXComponent=!0}}]);